var colors;colors=["#fffff0","#fffce9","#fffbe5","#fff7e0","#fff5dd","#fff2d8","#fff0d4","#ffedd1","#ffeacc","#ffe8c9","#ffe5c5","#ffe2c1","#ffe1be","#ffdeba","#ffdab6","#ffd9b3","#ffd6af","#ffd2ab","#ffd1a8","#ffcea4","#ffcba0","#ffc89c","#ffc59a","#ffc396","#ffc092","#ffbc8e","#ffba8a","#ffb788","#ffb484","#ffb180","#ffae7d","#ffac79","#ffa875","#ffa572","#ffa36e","#ff9f6b","#ff9c67","#ff9964","#ff9660","#ff935c","#ff9058","#ff8d55","#ff8951","#ff864d","#ff8249","#ff7f45","#ff7b42","#ff773d","#ff7439","#ff6f35","#ff6c30","#ff682c","#ff6328","#ff6023","#ff5b1e","#ff5619","#ff5113","#ff4b0a","#ff4702","#ff3f29","#fd393a","#fb3541","#f83147","#f62f4a","#f32c4d","#f0294f","#ee2650","#ea2451","#e72251","#e52050","#e21e50","#de1c4f","#dc1a4e","#d9184c","#d6164b","#d31549","#d01347","#cd1146","#ca1043","#c70e41","#c40d3f","#c20b3d","#be0a3a","#bc0838","#b90735","#b60632","#b2052f","#b0042c","#ac032a","#aa0327","#a70223","#a30220","#a1011d","#9d011a","#9a0116","#980013","#95000f","#91000b","#8e0006","#8b0000"],d3.geomap={},d3.geomap.choropleth=function(){var f,t,n,e,a,r,c,u,l,o,d,i,s,b,g,p,h,m,v,j,k;return g={top:20,right:20,bottom:20,left:20},j=960,s=500,h=d3.geo.naturalEarth,n=null,e=null,a=[],r=null,c={},l=d3.format(".02f"),o=null,d=null,p=null,m=null,k=null,b=function(f){return c[f]?c[f]:""},t=function(f){return c[f]?n(c[f]):"#eeeeee"},f=function(f){var t,n,e,a,r;return console.log(f),a=null,r=null,e=null,f&&t!==f?(n=p.centroid(f),a=n[0],r=n[1],e=4,t=f):(a=j/2,r=s/2,e=1,t=null),o.selectAll("path").classed("active",t&&function(f){return f===t}),o.transition().duration(750).attr("transform","translate("+j/2+","+s/2+")scale("+e+")translate("+-a+","+-r+")").style("stroke-width",1/e+"px")},v=function(){var a,u,o,d,i,s;for(o=null,u=null,i=0,s=r.length;s>i;i++)a=r[i],d=parseFloat(a[e]),o>d&&(o=d),d>u&&(u=d),c[a.iso3]=d;return n=d3.scale.quantize().domain([o,u]).range(d3.range(colors.length).map(function(f){return colors[f]})),m.enter().append("path").attr("class","country").attr("d",p).style("fill",function(f){return t(f.id)}).on("click",f).append("title").text(function(f){return f.properties.name+": "+l(b(f.id))})},u=function(t){var n,e;return e=t.append("svg").attr("width",j).attr("height",s),e.append("rect").attr("class","background").attr("width",j).attr("height",s).on("click",f),o=e.append("g"),n=h().scale(j/s*155).translate([j/2.4,s/2]).precision(.1),p=d3.geo.path().projection(n),d3.json(d,function(f,t){return m=o.attr("class","countries").selectAll("path").data(topojson.feature(t,t.objects.subunits).features),v()})},i=function(f){return r=f.datum(),u(f),a=d3.keys(r[0]).filter(function(f){return""!==f&&"iso3"!==f?f:null}).sort()},i.update=function(){return v()},i.columns=function(){return a},i.margin=function(f){return arguments.length?(g=f,i):g},i.width=function(f){return arguments.length?(j=f,i):j},i.height=function(f){return arguments.length?(s=f,i):s},i.projection=function(f){return arguments.length?(h=f,i):h},i.column=function(f){return arguments.length?(e=f,i):e},i.geofile=function(f){return arguments.length?(d=f,i):d},i};