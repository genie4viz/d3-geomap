var colors;colors=["#fffff0","#fffce9","#fffbe5","#fff7e0","#fff5dd","#fff2d8","#fff0d4","#ffedd1","#ffeacc","#ffe8c9","#ffe5c5","#ffe2c1","#ffe1be","#ffdeba","#ffdab6","#ffd9b3","#ffd6af","#ffd2ab","#ffd1a8","#ffcea4","#ffcba0","#ffc89c","#ffc59a","#ffc396","#ffc092","#ffbc8e","#ffba8a","#ffb788","#ffb484","#ffb180","#ffae7d","#ffac79","#ffa875","#ffa572","#ffa36e","#ff9f6b","#ff9c67","#ff9964","#ff9660","#ff935c","#ff9058","#ff8d55","#ff8951","#ff864d","#ff8249","#ff7f45","#ff7b42","#ff773d","#ff7439","#ff6f35","#ff6c30","#ff682c","#ff6328","#ff6023","#ff5b1e","#ff5619","#ff5113","#ff4b0a","#ff4702","#ff3f29","#fd393a","#fb3541","#f83147","#f62f4a","#f32c4d","#f0294f","#ee2650","#ea2451","#e72251","#e52050","#e21e50","#de1c4f","#dc1a4e","#d9184c","#d6164b","#d31549","#d01347","#cd1146","#ca1043","#c70e41","#c40d3f","#c20b3d","#be0a3a","#bc0838","#b90735","#b60632","#b2052f","#b0042c","#ac032a","#aa0327","#a70223","#a30220","#a1011d","#9d011a","#9a0116","#980013","#95000f","#91000b","#8e0006","#8b0000"],d3.geomap={},d3.geomap.choropleth=function(){var f,t,e,n,a,r,c,l,u,o,d,i,s,b,g,p,h,m,v,j,k,y;return h={top:20,right:20,bottom:20,left:20},k=960,g=500,v=d3.geo.naturalEarth,f=null,n=null,a=null,r=[],c=null,l=null,u={},d=d3.format(".02f"),i=null,s=null,m=null,y=null,p=function(f){return u[f]?d(u[f]):"No data"},e=function(f){return u[f]?n(u[f]):"#eeeeee"},t=function(t){var e,n,a,r;return a=null,r=null,n=null,t&&f!==t?(e=m.centroid(t),a=e[0],r=e[1],n=4,f=t):(a=k/2,r=g/2,n=1,f=null),i.selectAll("path").classed("active",f&&function(t){return t===f}),i.transition().duration(750).attr("transform","translate("+k/2+","+g/2+")scale("+n+")translate("+-a+","+-r+")")},j=function(){var f,r,o,d,i,s;for(o=null,r=null,i=0,s=l.length;s>i;i++)f=l[i],d=parseFloat(f[a]),o>d&&(o=d),d>r&&(r=d),u[f.iso3]=d;return n=d3.scale.quantize().domain([o,r]).range(d3.range(colors.length).map(function(f){return colors[f]})),d3.selectAll("path.country").remove(),c.enter().append("path").attr("class","country").attr("d",m).style("fill",function(f){return e(f.id)}).on("click",t).append("title").text(function(f){return f.properties.name+": "+p(f.id)})},o=function(f){var e,n;return n=f.append("svg").attr("width",k).attr("height",g),n.append("rect").attr("class","background").attr("width",k).attr("height",g).on("click",t),i=n.append("g"),e=v().scale(k/g*155).translate([k/2.4,g/2]).precision(.1),m=d3.geo.path().projection(e),d3.json(s,function(f,t){return console.log(t),c=i.attr("class","countries").selectAll("path").data(topojson.feature(t,t.objects.countries).features),j()})},b=function(f){return l=f.datum(),o(f),r=d3.keys(l[0]).filter(function(f){return""!==f&&"iso3"!==f?f:null}).sort()},b.update=function(){return j()},b.columns=function(){return r},b.margin=function(f){return arguments.length?(h=f,b):h},b.width=function(f){return arguments.length?(k=f,b):k},b.height=function(f){return arguments.length?(g=f,b):g},b.projection=function(f){return arguments.length?(v=f,b):v},b.column=function(f){return arguments.length?(a=f,b):a},b.geofile=function(f){return arguments.length?(s=f,b):s},b};